<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SwissPark - Stationnement Intelligent en Suisse</title>
    
    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --primary-soft: rgba(37, 99, 235, 0.1);
            --bg-dark: #0f172a;
            --card-dark: #1e293b;
            --text-white: #ffffff;
            --text-gray: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            --radius-xl: 16px;
            --radius-full: 9999px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: var(--bg-dark);
            color: var(--text-white);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #map {
            flex: 1;
            width: 100%;
        }

        /* Search Bar */
        .search-container {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 500px;
            z-index: 10;
        }

        .search-bar {
            background: var(--card-dark);
            border-radius: var(--radius-xl);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-bar input {
            background: transparent;
            border: none;
            color: white;
            flex: 1;
            margin-left: 12px;
            font-size: 16px;
            outline: none;
        }

        /* Floating Selectors */
        .floating-selectors {
            position: absolute;
            top: 85px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 500px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .selector-chip {
            background: var(--card-dark);
            padding: 8px 16px;
            border-radius: var(--radius-full);
            font-size: 13px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: var(--shadow-lg);
        }

        /* Action Buttons */
        .map-actions {
            position: absolute;
            right: 16px;
            bottom: 100px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 10;
        }

        .action-btn {
            width: 48px;
            height: 48px;
            background: var(--card-dark);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        /* Bottom Sheet */
        .bottom-sheet {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-dark);
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease-out;
            z-index: 20;
            box-shadow: 0 -10px 25px rgba(0, 0, 0, 0.5);
        }

        .bottom-sheet.active {
            transform: translateY(0);
        }

        .sheet-handle {
            width: 40px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin: -10px auto 15px;
        }

        /* Navigation */
        .bottom-nav {
            background: var(--card-dark);
            padding: 12px 0 24px;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: var(--text-gray);
            font-size: 11px;
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--primary);
        }

        /* Components */
        .parking-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 12px;
            width: 100%;
            font-weight: 600;
            font-size: 16px;
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="search-container">
        <div class="search-bar">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            <input type="text" placeholder="Où voulez-vous vous garer ?">
        </div>
    </div>

    <div class="floating-selectors">
        <div class="selector-chip">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            Aujourd'hui, 22:00
        </div>
        <div class="selector-chip">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
            23:00
        </div>
    </div>

    <div id="map"></div>

    <div class="map-actions">
        <div class="action-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
        </div>
        <div class="action-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </div>
        <div class="action-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </div>
    </div>

    <div id="bottomSheet" class="bottom-sheet">
        <div class="sheet-handle"></div>
        <h2 id="sheetTitle" style="margin-bottom: 8px;">Détails du Parking</h2>
        <p id="sheetAddress" style="color: var(--text-gray); font-size: 14px; margin-bottom: 16px;">Adresse complète ici</p>
        
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
            <div>
                <p style="font-size: 12px; color: var(--text-gray);">PRIX</p>
                <p id="sheetPrice" style="font-weight: 600; font-size: 18px;">3.50 CHF/h</p>
            </div>
            <div style="text-align: right;">
                <p style="font-size: 12px; color: var(--text-gray);">DISPONIBILITÉ</p>
                <p id="sheetStatus" style="color: var(--success); font-weight: 600;">Disponible</p>
            </div>
        </div>

        <button class="btn-primary" onclick="startParking()">Réserver avec TWINT</button>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            Rechercher
        </div>
        <div class="nav-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            Réservations
        </div>
        <div class="nav-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            Profil
        </div>
    </nav>

    <script>
        let map;
        const parkings = [
            { name: "Place de la Gare", lat: 46.5186, lng: 6.6291, price: "3.50", address: "Pl. de la Gare, 1003 Lausanne" },
            { name: "Parking du Flon", lat: 46.5214, lng: 6.6301, price: "2.80", address: "Rue de la Vigie 3, 1003 Lausanne" },
            { name: "Parking Cornavin", lat: 46.2101, lng: 6.1432, price: "4.00", address: "Pl. de Cornavin, 1201 Genève" },
            { name: "Plainpalais", lat: 46.1983, lng: 6.1434, price: "3.00", address: "Av. Henri-Dunant 10, 1205 Genève" },
            { name: "Zürich HB", lat: 47.3781, lng: 8.5401, price: "5.00", address: "Bahnhofplatz, 8001 Zürich" }
        ];

        function initMap() {
            const darkStyle = [
                { elementType: "geometry", stylers: [{ color: "#242f3e" }] },
                { elementType: "labels.text.stroke", stylers: [{ color: "#242f3e" }] },
                { elementType: "labels.text.fill", stylers: [{ color: "#746855" }] },
                { featureType: "administrative.locality", elementType: "labels.text.fill", stylers: [{ color: "#d59563" }] },
                { featureType: "poi", elementType: "labels.text.fill", stylers: [{ color: "#d59563" }] },
                { featureType: "road", elementType: "geometry", stylers: [{ color: "#38414e" }] },
                { featureType: "road", elementType: "geometry.stroke", stylers: [{ color: "#212a37" }] },
                { featureType: "road", elementType: "labels.text.fill", stylers: [{ color: "#9ca5b3" }] },
                { featureType: "water", elementType: "geometry", stylers: [{ color: "#17263c" }] }
            ];

            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 46.5197, lng: 6.6323 },
                zoom: 13,
                styles: darkStyle,
                disableDefaultUI: true
            });

            parkings.forEach(p => {
                const marker = new google.maps.Marker({
                    position: { lat: p.lat, lng: p.lng },
                    map: map,
                    title: p.name,
                    icon: {
                        path: google.maps.SymbolPath.CIRCLE,
                        fillColor: '#2563eb',
                        fillOpacity: 1,
                        strokeColor: '#ffffff',
                        strokeWeight: 2,
                        scale: 8
                    }
                });

                marker.addListener("click", () => showParkingDetails(p));
            });
        }

        function showParkingDetails(p) {
            document.getElementById("sheetTitle").innerText = p.name;
            document.getElementById("sheetAddress").innerText = p.address;
            document.getElementById("sheetPrice").innerText = p.price + " CHF/h";
            document.getElementById("bottomSheet").classList.add("active");
        }

        function startParking() {
            alert("Redirection vers TWINT...");
            // Logique de paiement ici
        }

        // Fermer le sheet en cliquant sur la carte
        document.getElementById("map").addEventListener("click", () => {
            document.getElementById("bottomSheet").classList.remove("active");
        });

        window.onload = initMap;
    </script>
</body>
</html>
